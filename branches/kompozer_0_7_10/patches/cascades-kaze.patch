--- mozilla.orig/editor/ui/dialogs/content/EdDialogOverlay.xul	2003-09-11 11:10:22.000000000 +0200
+++ mozilla/editor/ui/dialogs/content/EdDialogOverlay.xul	2006-11-18 14:07:07.000000000 +0100
@@ -55,10 +55,16 @@
   accesskey = "&AdvancedEditButton.accessKey;"
   tooltiptext="&AdvancedEditButton.tooltip;"/>
 
-<button 
+<!-- button // Kaze: replaced by a toolbar button
   id        = "ChooseFile" 
   oncommand = "chooseFile()"
   label     = "&chooseButton.label;"
+  accesskey = "&chooseFile.accessKey;"/ -->
+<toolbarbutton 
+  id        = "ChooseFile" 
+  oncommand = "chooseFile()"
+  style     = "list-style-image: url(chrome://editor/skin/icons/filePicker.gif);"
+  tooltiptext= "&chooseButton.label;"
   accesskey = "&chooseFile.accessKey;"/>
 
 <checkbox
@@ -70,25 +76,34 @@
 
 <vbox id="LinkLocationBox">
   <label control="hrefInput" accesskey="&LinkURLEditField.accessKey;" width="1">&LinkURLEditField.label;</label>
-  <textbox id="hrefInput" type="autocomplete"
+  <hbox>
+    <vbox flex="1">
+      <textbox id="hrefInput" type="autocomplete" flex="1"
            searchSessions="history" timeout="50" maxrows="6"
            disablehistory="false" class="uri-element"
            oninput="ChangeLinkLocation();">
-    <menupopup class="autocomplete-history-popup"
+        <menupopup class="autocomplete-history-popup"
                popupalign="topleft" popupanchor="bottomleft"
                oncommand="this.parentNode.value = event.target.getAttribute('label');"/>
-  </textbox>
-  <hbox align="center">
-    <!-- from EdDialogOverlay.xul 'for' identifies the textfield to get URL from -->
+      </textbox>
+    </vbox>
+    <toolbarbutton tooltiptext="&chooseButton.label;" accesskey="&chooseFileLink.accessKey;" oncommand="chooseLinkFile();"
+      style="list-style-image: url(chrome://editor/skin/icons/filePicker.gif);"/>
+  </hbox>
+  <checkbox id="IsMailAddress"
+            for="hrefInput"
+            label="&isMailAddress.label;" />
+  <!-- <hbox align="center">
+    from EdDialogOverlay.xul 'for' identifies the textfield to get URL from -->
     <checkbox id="MakeRelativeLink"
               for="hrefInput"
               label="&makeUrlRelative.label;"
               accesskey="&makeUrlRelative.accessKey;"
               oncommand="MakeInputValueRelativeOrAbsolute(this);"
               tooltiptext="&makeUrlRelative.tooltip;"/>
-    <spacer flex="1"/>
-    <button label="&chooseButton.label;" accesskey="&chooseFileLink.accessKey;" oncommand="chooseLinkFile();"/>
-  </hbox>
+    <!-- <spacer flex="1"/>
+    button label="&chooseButton.label;" accesskey="&chooseFileLink.accessKey;" oncommand="chooseLinkFile();"/
+  </hbox> -->
 </vbox>  
 
 </overlay>    
