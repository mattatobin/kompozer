diff -u8Nr composer.orig/app/Makefile.in composer/app/Makefile.in
--- composer/app/Makefile.in	2005-01-31 15:15:18.000000000 +0000
+++ composer/app/Makefile.in	2005-02-06 19:21:04.000000000 +0000
@@ -141,20 +141,19 @@
 RCFLAGS += -DMOZ_STATIC_BUILD
 endif
 ifdef DEBUG
 RCFLAGS += -DDEBUG
 endif
 endif
 
 ifeq ($(OS_ARCH),OS2)
-RESFILE=splashos2.res
-RCFLAGS += -DMOZ_PHOENIX
+RESFILE = splashos2.res
+RCFLAGS += -DMOZ_STANDALONE_COMPOSER
 ifdef BUILD_STATIC_LIBS
-OS_LIBS += -lpmwinx
 EXE_DEF_FILE = kompozer.def
 RCFLAGS += -DMOZ_STATIC_BUILD -i $(DIST)/include/widget
 endif
 ifdef DEBUG
 RCFLAGS += -DDEBUG
 endif
 endif
 
@@ -243,16 +242,25 @@
 
 libs:: $(ICON_FILES)
 	$(INSTALL) $^ $(DIST)/bin/icons
 
 install::
 	$(SYSINSTALL) $(IFLAGS1) $(ICON_FILES) $(DESTDIR)$(mozappdir)/icons
 endif
 
+ifneq (,$(filter os2,$(MOZ_WIDGET_TOOLKIT)))
+ICON_FILES	= $(srcdir)/editorWindowOS2.ico
+libs:: $(ICON_FILES)
+	mkdir -p $(DIST)/bin/chrome/icons/default
+	cp -f $^ $(DIST)/bin/chrome/icons/default/editorWindow.ico
+install::
+	$(SYSINSTALL) $(IFLAGS1) $(ICON_FILES) $(DESTDIR)$(mozappdir)/chrome/icons/default
+endif
+
 libs::
 	touch $(DIST)/bin/.autoreg
 
 ifneq (,$(filter mac cocoa,$(MOZ_WIDGET_TOOLKIT)))
 
 APP_NAME = NVU
 
 AB_CD = $(MOZ_UI_LOCALE)
diff -u8Nr composer.orig/app/splashos2.rc composer/app/splashos2.rc
--- composer/app/splashos2.rc	1970-01-01 00:00:00.000000000 +0000
+++ composer/app/splashos2.rc	2005-02-05 01:44:14.000000000 +0000
@@ -0,0 +1,66 @@
+/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-
+ *
+ * ***** BEGIN LICENSE BLOCK *****
+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1
+ *
+ * The contents of this file are subject to the Mozilla Public License Version
+ * 1.1 (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ * http://www.mozilla.org/MPL/
+ *
+ * Software distributed under the License is distributed on an "AS IS" basis,
+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
+ * for the specific language governing rights and limitations under the
+ * License.
+ *
+ * The Original Code is Mozilla Communicator client code.
+ *
+ * The Initial Developer of the Original Code is
+ * Netscape Communications Corporation.
+ * Portions created by the Initial Developer are Copyright (C) 1998
+ * the Initial Developer. All Rights Reserved.
+ *
+ * Contributor(s):
+ *   Bill Law       law@netscape.com
+ *   IBM Corp.
+ *
+ * Alternatively, the contents of this file may be used under the terms of
+ * either of the GNU General Public License Version 2 or later (the "GPL"),
+ * or the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
+ * in which case the provisions of the GPL or the LGPL are applicable instead
+ * of those above. If you wish to allow use of your version of this file only
+ * under the terms of either the GPL or the LGPL, and not to allow others to
+ * use your version of this file under the terms of the MPL, indicate your
+ * decision by deleting the provisions above and replace them with the notice
+ * and other provisions required by the GPL or the LGPL. If you do not delete
+ * the provisions above, a recipient may use your version of this file under
+ * the terms of any one of the MPL, the GPL or the LGPL.
+ *
+ * ***** END LICENSE BLOCK ***** */
+#include <os2.h>
+
+ICON 1 "editorWindowOS2.ico"
+
+// Splash screen dialog ID.
+#define IDD_SPLASH  100
+ 
+// Splash screen bitmap ID.
+#define IDB_SPLASH  101
+ 
+// DDE application name
+#define ID_DDE_APPLICATION_NAME 102
+
+DLGTEMPLATE IDD_SPLASH DISCARDABLE 
+BEGIN
+    DIALOG "", IDD_SPLASH, 0, 0, 390, 261, , FCF_BORDER
+    BEGIN
+    END
+END
+
+//IDB_SPLASH BITMAP
+//	"splash.bmp"
+
+STRINGTABLE DISCARDABLE
+BEGIN
+    ID_DDE_APPLICATION_NAME,            "KompoZer"
+END
